<section
    mbr-id="_anchor"
    class="mbr-section"
    mbr-class-mbr-background="_params.bgImageRadio | unless _params.parallax"
    mbr-class-mbr-parallax-background="_params.parallax | if _params.bgImageRadio"
    mbr-bg-image="_params.bgImage | if _params.bgImageRadio"
    mbr-bg-color="_params.bgColor | if _params.bgColorRadio">

    <div class="mbr-overlay" mbr-if="_params.overlay | unless _params.bgColorRadio" mbr-opacity="_params.overlayOpacity" mbr-bg-color="_params.overlayColor"></div>

    <div class="container">
            <div class="row justify-content-center">
                <div class="title col-12 col-lg-8">
                    <h2
                        mbr-html="title"
                        mbr-if="_params.showTitle"
                        class="mbr-section-title align-center pb-3 mbr-fonts-style display-2"
                        data-app-edit="content"
                        data-app-selector=".mbr-section-title">
                    </h2>
                    <h3
                        mbr-html="subtitle"
                        mbr-if="_params.showSubTitle"
                        class="mbr-section-subtitle align-center mbr-light pb-3 mbr-fonts-style display-5"
                        data-app-edit="content"
                        data-app-selector=".mbr-section-subtitle">
                    </h3>
                </div>
            </div>
        </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="media-container-column col-lg-8">
                <form mbr-form="form" action="mail.php" method="post" class="mbr-form form-with-styler" onsubmit="return witsecSendMail(this)">
                    <input type="hidden" name="to" value="">
                    <input type="hidden" name="subject" value="">
                    <div class="row">
                        <div hidden="hidden" data-form-alert class="alert alert-success col-12" mbr-text="form.fields.successmessage.customTitle"></div>
                        <div hidden="hidden" data-form-alert class="alert alert-danger col-12" mbr-text="form.fields.errormessage.customTitle"></div>
                    </div>
                    <div class="dragArea row">
                        <div mbr-if="form.fields.name.visible"
                            mbr-class-col-md-4="form.fields.email.visible | if form.fields.phone.visible"
                            mbr-class-col-md-6="form.fields.phone.visible | unless form.fields.email.visible"
                            mbr-class-col-md-12="form.fields.name.visible | unless form.fields.phone.visible | unless form.fields.email.visible"
                            mbr-add-class="'col-md-6' | if form.fields.email.visible | unless form.fields.phone.visible"
                            class="col-xs-12 form-group">
                            <label mbr-theme-style="display-7" for="name" class="form-control-label mbr-fonts-style" mbr-html="from" data-app-edit="content" data-app-selector=".mbr-section-text"></label>
                            <input type="text" name="name" mbr-theme-style="display-7" required="required" class="form-control">
                        </div>
                        <div mbr-if="form.fields.email.visible"
                            mbr-class-col-md-4="form.fields.name.visible | if form.fields.phone.visible"
                            mbr-class-col-md-6="form.fields.phone.visible | unless form.fields.name.visible"
                            mbr-class-col-md-12="form.fields.email.visible | unless form.fields.name.visible | unless form.fields.phone.visible"
                            mbr-add-class="'col-md-6' | if form.fields.name.visible | unless form.fields.phone.visible"
                            class="col-xs-12 form-group">
                            <label mbr-theme-style="display-7" for="email" class="form-control-label mbr-fonts-style" mbr-html="email" data-app-edit="content" data-app-selector=".mbr-section-text"></label>
                            <input type="email" name="email" mbr-theme-style="display-7" required="required" class="form-control">
                        </div>
                        <div mbr-if="form.fields.phone.visible"
                            mbr-class-col-md-4="form.fields.name.visible | if form.fields.email.visible"
                            mbr-class-col-md-6="form.fields.email.visible | unless form.fields.name.visible"
                            mbr-class-col-md-12="form.fields.phone.visible | unless form.fields.name.visible | unless form.fields.email.visible"
                            mbr-add-class="'col-md-6' | if form.fields.name.visible | unless form.fields.email.visible"
                            class="col-xs-12 form-group">
                            <label mbr-theme-style="display-7" for="phone" class="form-control-label mbr-fonts-style" mbr-html="phone" data-app-edit="content" data-app-selector=".mbr-section-text"></label>
                            <input type="tel" name="phone" mbr-theme-style="display-7" class="form-control">
                        </div>
                        <div mbr-if="form.fields.message.visible" class="col-md-12 form-group">
                            <label mbr-theme-style="display-7" for="message" class="form-control-label mbr-fonts-style" mbr-html="message" data-app-edit="content" data-app-selector=".mbr-section-text"></label>
                            <textarea name="message" mbr-theme-style="display-7" class="form-control form-control-textarea"></textarea>
                        </div>
                        <div class="col-md-12 input-group-btn align-center mbr-section-btn" mbr-html="buttons" data-app-edit="buttons" data-toolbar="-mbrLink,-mbrBtnAdd,-mbrBtnMove"></div>
                    </div>
                </form>
            </div>
        </div>
    </div>

<script language="javascript">
function witsecSendMail(obj) {
    var frm = $(obj);
    var success = false;
    
	// Make an AJAX call to the mailform
    $.ajax({
        type: frm.attr("method"),
        url: frm.attr("action"),
        data: frm.serialize(),
        success: function (data) {
            // Check the result
            if (data == "1") {
                frm.find("div .alert-danger").attr("hidden", "hidden");
                frm.find("div .alert-success").removeAttr("hidden");
                frm.trigger("reset");
            } else {
                frm.find("div .alert-success").attr("hidden", "hidden");
                frm.find("div .alert-danger").removeAttr("hidden");
            }
        },
        error: function (data) {
            frm.find("div .alert-success").attr("hidden", "hidden");
            frm.find("div .alert-danger").removeAttr("hidden");
        },
    });

	// Return false, so the form doesn't try to submit again
    return false;
}
</script>

</section>